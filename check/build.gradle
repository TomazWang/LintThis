apply plugin: 'java-library'
apply plugin: 'kotlin'

dependencies {
    implementation fileTree(dir: 'libs', include: ['*.jar'])

    compileOnly "org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.2.51"

    def lintVersion = '26.1.4'
    compileOnly "com.android.tools.lint:lint-api:$lintVersion"
    compileOnly "com.android.tools.lint:lint-checks:$lintVersion"


    testCompile "junit:junit:4.12"
    testCompile "com.android.tools.lint:lint:$lintVersion"
    testCompile "com.android.tools.lint:lint-tests:$lintVersion"
    testCompile "com.android.tools:testutils:$lintVersion"
}

sourceCompatibility = "8"
targetCompatibility = "8"


jar {
    manifest{
        attributes('Lint-Registry-V2': 'com.tomzium.check.issue.some.SomeIssueRegistry')
        attributes('Lint-Registry-V2': 'com.tomzium.check.issue.somekt.KotlinIssueRegistry')
        attributes('Lint-Registry-V2': 'com.tomzium.check.issue.nullablility.NullabilityIssueRegistry')
    }
}
